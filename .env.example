# =============================================================================
# AlgoShield Environment Variables
# =============================================================================
# Copy this file to .env and update the values according to your environment
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED VARIABLES (Must be set - no defaults)
# -----------------------------------------------------------------------------

# JWT Secret Key - REQUIRED
# Minimum 32 characters. In production, must contain at least 3 of:
# uppercase, lowercase, digits, special characters
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long

# PostgreSQL Password - REQUIRED
# Minimum 16 characters. In production, must contain at least 3 of:
# uppercase, lowercase, digits, special characters
POSTGRES_PASSWORD=your-secure-database-password-minimum-16-chars

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION (PostgreSQL)
# -----------------------------------------------------------------------------

# PostgreSQL Host
POSTGRES_HOST=localhost

# PostgreSQL Port
POSTGRES_PORT=5432

# PostgreSQL User
POSTGRES_USER=algoshield

# PostgreSQL Database Name
POSTGRES_DB=algoshield

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION
# -----------------------------------------------------------------------------

# Redis Host
REDIS_HOST=localhost

# Redis Port
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# API CONFIGURATION
# -----------------------------------------------------------------------------

# API Host (0.0.0.0 to listen on all interfaces)
API_HOST=0.0.0.0

# API Port
API_PORT=8080

# Enable TLS (true/false)
# Required in production environment
TLS_ENABLE=false

# TLS Certificate File Path (required if TLS_ENABLE=true)
TLS_CERT_PATH=

# TLS Private Key File Path (required if TLS_ENABLE=true)
TLS_KEY_PATH=

# -----------------------------------------------------------------------------
# WORKER CONFIGURATION
# -----------------------------------------------------------------------------

# Number of concurrent workers
WORKER_CONCURRENCY=10

# Batch size for processing transactions
WORKER_BATCH_SIZE=50

# Timeout for processing a single transaction (duration format: 300ms, 1s, etc.)
WORKER_TIMEOUT_TRANSACTION_PROCESSING=300ms

# Timeout for rule evaluation (duration format: 300ms, 1s, etc.)
WORKER_TIMEOUT_RULE_EVALUATION=300ms

# Maximum retry attempts for failed transactions
WORKER_RETRY_MAX_ATTEMPTS=3

# Initial delay before first retry (duration format: 100ms, 1s, etc.)
WORKER_RETRY_INITIAL_DELAY=100ms

# Maximum delay between retries (duration format: 5s, 10s, etc.)
WORKER_RETRY_MAX_DELAY=5s

# Exponential backoff multiplier for retries
WORKER_RETRY_MULTIPLIER=2.0

# Timeout for queue pop operations (duration format: 1s, 5s, etc.)
WORKER_QUEUE_POP_TIMEOUT=1s

# Interval for reloading rules from database (duration format: 10s, 30s, etc.)
WORKER_RULES_RELOAD_INTERVAL=10s

# -----------------------------------------------------------------------------
# GENERAL CONFIGURATION
# -----------------------------------------------------------------------------

# Environment (development, production, test)
# In production, TLS is required
ENVIRONMENT=development

# Log Level (debug, info, warn, error)
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# AUTHENTICATION CONFIGURATION
# -----------------------------------------------------------------------------

# JWT Token Expiration Time in Hours
JWT_EXPIRATION_HOURS=24

# -----------------------------------------------------------------------------
# FRONTEND CONFIGURATION (Next.js)
# -----------------------------------------------------------------------------

# API URL for Next.js server-side rewrites/proxying
# Used in next.config.js for proxying API requests
API_URL=http://localhost:8080

# -----------------------------------------------------------------------------
# FRONTEND CLIENT-SIDE CONFIGURATION (Next.js - NEXT_PUBLIC_*)
# -----------------------------------------------------------------------------
# These variables are exposed to the browser (client-side)
# Only use NEXT_PUBLIC_ prefix for values that are safe to expose

# API Base URL for client-side requests
# Leave empty to use relative URLs via Next.js proxy
# Set to full URL if API is on a different domain
NEXT_PUBLIC_API_URL=

# API Request Timeout in milliseconds
NEXT_PUBLIC_API_TIMEOUT=30000

# Maximum retry attempts for API requests
NEXT_PUBLIC_API_RETRY_MAX_ATTEMPTS=3

# Initial delay before first retry in milliseconds
NEXT_PUBLIC_API_RETRY_INITIAL_DELAY=1000

# Maximum delay between retries in milliseconds
NEXT_PUBLIC_API_RETRY_MAX_DELAY=10000

# Exponential backoff multiplier for API retries
NEXT_PUBLIC_API_RETRY_MULTIPLIER=2.0

# Toast notification duration in milliseconds
NEXT_PUBLIC_UI_TOAST_DURATION=5000

# Polling interval for real-time updates in milliseconds
NEXT_PUBLIC_UI_POLLING_INTERVAL=10000
